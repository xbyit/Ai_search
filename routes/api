from flask import Blueprint, request, jsonify
from services.search_service import search_duckduckgo
from services.ai_service import web_ai

api = Blueprint('api', __name__)
@app.route('/api/search', methods=['POST'])
def api_search():
    data = request.json
    query = data.get('query')
    if not query:
        return jsonify({'error': 'Query parameter is required.'}), 400
    
    urls = search_duckduckgo(query)
    if isinstance(urls, dict) and 'error' in urls:
        return jsonify(urls), 500
    if not urls:
        return jsonify({'error': 'No URLs found.'}), 404
